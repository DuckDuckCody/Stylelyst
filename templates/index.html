{% extends "base.html" %}

{% block title %} 
    Python Clothes
{% endblock %}

{% block content %}
    <div class="navbar">
        <div class="flex space-around navbar-bar">
            <h3>Python Clothes</h3>
            <span>Page: {{current_page}}</span>
        </div>
        <div class="flex flex-end navbar-bar">
            {% if current_page != '1' %}
                <a class="flex-b-33" href="{{url_for('index')}}?page={{current_page|int - 1}}">
                    Previous Page
                </a>
            {% endif %}
            <a class="flex-b-33" href="{{url_for('config')}}">
                Config
            </a>
            <a class="flex-b-33" href="{{url_for('index')}}?page={{current_page|int + 1}}">
                Next Page
            </a>
        </div>
    </div>
    <div class="product-container">
        {% for clothe in clothes %}
            <div class="product">
                <p>{{clothe.name}}</p>
                <p>
                    ${{clothe.price}} 
                    {% if clothe.compare_price %}
                        <span class="line-through">${{clothe.compare_price}}</span>
                    {% endif %}
                </p>
                {% if clothe.compare_price %}
                    <p>
                        {{ (((clothe.compare_price - clothe.price) / clothe.compare_price) * 100) | int }}% off
                    </p>
                {% endif %}
                <a href="{{clothe.link}}" target="_blank">
                    <img class="product-image" data-src="{{clothe.img}}">
                </a>
            </div>
        {% endfor %}
        <a class="product" href="{{url_for('index')}}?page={{current_page|int + 1}}">
            Next Page
        </a>
    </div>
{% endblock %}

{% block scripts %}
    <script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@10.19.0/dist/lazyload.min.js"></script>
    <script>
        new LazyLoad();
    </script>
{% endblock %}